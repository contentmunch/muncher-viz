(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"./.storybook/preview.js-generated-config-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,"parameters",(function(){return parameters}));var ClientApi=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),esm=__webpack_require__("./node_modules/@storybook/client-logger/dist/esm/index.js"),parameters=(__webpack_require__("./src/assets/App.scss"),{actions:{argTypesRegex:"^on[A-Z].*"},layout:"centered"});function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":case"argTypes":return esm.a.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return Object(ClientApi.d)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(ClientApi.e)(loader,!1)}));case"parameters":return Object(ClientApi.f)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.b)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.c)(enhancer)}));case"render":return Object(ClientApi.g)(value);case"globals":case"globalTypes":var v={};return v[key]=value,Object(ClientApi.f)(v,!1);case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./generated-stories-entry.js":function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js").configure)([__webpack_require__("./src sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.mdx)$"),__webpack_require__("./src sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.(js|jsx|ts|tsx))$")],module,!1)}).call(this,__webpack_require__("./node_modules/@storybook/builder-webpack4/node_modules/webpack/buildin/module.js")(module))},"./src sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.(js|jsx|ts|tsx))$":function(module,exports,__webpack_require__){var map={"./barChart/StackedBarChart.stories.tsx":"./src/barChart/StackedBarChart.stories.tsx","./pieChart/PieChart.stories.tsx":"./src/pieChart/PieChart.stories.tsx"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./src sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.(js|jsx|ts|tsx))$"},"./src sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.mdx)$":function(module,exports,__webpack_require__){var map={"./Introduction.stories.mdx":"./src/Introduction.stories.mdx"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./src sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.mdx)$"},"./src/Introduction.stories.mdx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__("./node_modules/react/index.js");var _mdx_js_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@storybook/addon-docs/blocks.js");__webpack_require__("./src/assets/App.scss");function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const layoutProps={};function MDXContent({components:components,...props}){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_3__.a,{title:"Introduction",mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("h1",{id:"muncher-viz"},"Muncher-Viz"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("p",null,"A html5 svg and scss based ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("a",{parentName:"p",href:"https://viz.muncher.dev/",target:"_blank",rel:"nofollow noopener noreferrer"},"visualization component library")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("h2",{id:"using-muncher-viz"},"Using Muncher-Viz"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("p",null,"To use this component library:"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("li",{parentName:"ul"},"Add the npm package to your project",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("pre",{parentName:"li"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("code",{parentName:"pre"},"$ npm install @contentmunch/muncher-viz\n")))))}MDXContent.isMDXComponent=!0;const __page=()=>{throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};const componentMeta={title:"Introduction",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs={...componentMeta.parameters.docs||{},page:()=>Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_2__.a,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)(MDXContent,null))},__webpack_exports__.default=componentMeta},"./src/assets/App.scss":function(module,exports,__webpack_require__){},"./src/barChart/StackedBarChart.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default})),__webpack_require__.d(__webpack_exports__,"Comparison",(function(){return Comparison}));var objectSpread2=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),slicedToArray=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),react_default=__webpack_require__.n(react),d3=__webpack_require__("./node_modules/d3/index.js"),jsx_runtime=(__webpack_require__("./src/barChart/assets/StackedBarChart.scss"),__webpack_require__("./node_modules/react/jsx-runtime.js")),StackedBarChart_StackedBarChart=function StackedBarChart(_ref){var data=_ref.data,comparisonData=_ref.comparisonData,colorRange=_ref.colorRange,toPercentage=_ref.toPercentage,withLegend=_ref.withLegend,svgRef=react_default.a.createRef(),legendRef=react_default.a.createRef(),draw=Object(react.useCallback)((function(){var barData=function combineData(){var combinedData={};combinedData.totalField=data.totalField,combinedData.titleField=data.titleField,combinedData.stackFields=data.stackFields;var extractTitle=function extractTitle(titleSeparator,value){return value?value.toString().split(titleSeparator)[0]:null};if(comparisonData){combinedData.values=[];var lastPostFix="*",emptyCount=0;data.values.forEach((function(value,index){if(combinedData.values.push(value),data.titleSeparator){var compareIndex=index-emptyCount,referenceTitle=extractTitle(data.titleSeparator,value[data.titleField]);if(referenceTitle===(comparisonData.values[compareIndex]?extractTitle(data.titleSeparator,comparisonData.values[compareIndex][data.titleField]):null))combinedData.values.push(comparisonData.values[compareIndex]),lastPostFix=function extractPostfix(titleSeparator,value){if(value){var titleArray=value.toString().split(titleSeparator);return titleArray.length>1?titleArray[1]:"*"}return"*"}(data.titleSeparator,comparisonData.values[compareIndex][data.titleField]);else{var titleFieldValue={};titleFieldValue[combinedData.titleField]=referenceTitle+data.titleSeparator+lastPostFix,combinedData.values.push(titleFieldValue),emptyCount++}}else comparisonData.values[index]&&combinedData.values.push(comparisonData.values[index])}))}else combinedData.values=data.values;return combinedData}();if(barData&&barData.values&&barData.values.length>0){var barHeight=comparisonData?20:30,margin={top:0,right:10,bottom:40,left:comparisonData?150:110},viewBox="0 0 ".concat(580," ").concat(barData.values.length*barHeight+20),height=barData.values.length*barHeight,width=580-margin.left-margin.right,defaultColorRange=["#4e79a7","#59a14f","#f28e2c","#e15759","#261759","#acd643","#daf2dc"],numberToPercent=function numberToPercent(d,total){return toPercentage?d/total*100:d},percentToNumber=function percentToNumber(percent,total){return toPercentage?(percent*total/100).toFixed(0):percent},formatData=function formatData(num){return toPercentage?num.toFixed(0)+"%":num.toString()},stackData=d3.k().keys(barData.stackFields).value((function(d,key){return numberToPercent(d[key],d[barData.totalField])})),y=d3.g().rangeRound([0,height]).paddingInner(.2).align(.1).domain(barData.values.map((function(d){return d[barData.titleField]}))),x=d3.h().rangeRound([0,width]).domain([0,function maxValue(){var max=d3.e(barData.values,(function(d){return function fieldTotal(fieldValue){if(toPercentage){var percentTotal=0;return barData.stackFields.forEach((function(field){percentTotal+=numberToPercent(+fieldValue[field],+fieldValue[barData.totalField])})),percentTotal}return+fieldValue[barData.totalField]}(d)}));return void 0===max?0:+max.toFixed(0)}()]).nice(),z=d3.i().range(colorRange||defaultColorRange).domain(barData.stackFields),svg=d3.j(svgRef.current).attr("viewBox",viewBox);svg.selectAll("g").remove();var barChart=svg.append("g").attr("transform","translate(".concat(margin.left,",").concat(margin.top,")")),bar=barChart.append("g").selectAll("g").data(stackData(barData.values)).join("g").attr("fill-opacity",.9).attr("fill",(function(d){return z(d.key)})).selectAll("rect").data((function(d){return d})).enter();if(bar.append("rect").classed("bar-rectangle",!0).attr("y",(function(d,i){return y(d.data[barData.titleField])-(comparisonData&&i%2==1?3:0)})).attr("x",(function(d){return x(d[0])})).attr("width",(function(d){return x(d[1])-x(d[0])})).attr("height",y.bandwidth()).append("title").text((function(d,i,group){var _group$i$parentNode,_group$i$parentNode$p,stackField=function colorToStackField(color){if(null==color)return"";var index=colorRange?colorRange.findIndex((function(value){return value===color})):defaultColorRange.findIndex((function(value){return value===color}));return index>-1&&index<barData.stackFields.length?barData.stackFields[index]:""}(null===(_group$i$parentNode=group[i].parentNode)||void 0===_group$i$parentNode||null===(_group$i$parentNode$p=_group$i$parentNode.parentElement)||void 0===_group$i$parentNode$p?void 0:_group$i$parentNode$p.getAttribute("fill")),value=d[1]-d[0];return"".concat(stackField,": ").concat(toPercentage?formatData(value):""," (").concat(percentToNumber(value,d.data[barData.totalField])," of ").concat(d.data[barData.totalField],")")})),bar.append("text").text((function(d,i,group){var value=d[1]-d[0],width=x(d[1])-x(d[0]),percentText="".concat(formatData(value)," (").concat(percentToNumber(value,d.data[barData.totalField])," of ").concat(d.data[barData.totalField],")"),numberText="".concat(value," of ").concat(d.data[barData.totalField]);if(toPercentage)return width>50?percentText:"";return width>30?numberText:""})).classed("bar-text",!0).attr("y",(function(d,i){return y(d.data[barData.titleField])+barHeight/2-(comparisonData&&i%2==1?3:0)})).attr("text-anchor","end").attr("x",(function(d){var width=x(d[1])-x(d[0]);return x(d[0])+width-5})),barChart.append("g").attr("class","axis").attr("transform",(function(){return"translate(0,0)"})).call(d3.c(y).tickSizeOuter(0)),barChart.append("g").attr("class","axis").attr("transform","translate(0,"+height+")").call(d3.b(x).tickFormat((function(x){return formatData(x.valueOf())}))),withLegend){var legendViewBox="0 0 45 ".concat(8*barData.stackFields.length),chartLegend=d3.j(legendRef.current).attr("viewBox",legendViewBox);chartLegend.selectAll("g").remove(),chartLegend.selectAll("text").remove(),chartLegend.attr("text-anchor","end");var legend=chartLegend.selectAll("g").data(barData.stackFields.slice()).join("g").attr("transform",(function(d,i){return"translate("+margin.right+","+7*i+")"}));legend.append("rect").attr("fill-opacity",.9).attr("x",28).attr("width",6).attr("height",6).attr("fill",(function(d){return z(d)})),legend.append("text").attr("x",26).attr("dy","0.24rem").text((function(d){return d}))}}}),[svgRef,legendRef,data,colorRange,toPercentage,comparisonData,withLegend]);return Object(react.useEffect)((function(){draw()}),[draw]),Object(jsx_runtime.jsxs)("div",{className:"muncher-bar-chart",children:[Object(jsx_runtime.jsx)("svg",{ref:svgRef,className:"svg-bar-chart"}),withLegend?Object(jsx_runtime.jsx)("svg",{className:"svg-bar-chart-legend",ref:legendRef}):""]})};try{StackedBarChart_StackedBarChart.displayName="StackedBarChart",StackedBarChart_StackedBarChart.__docgenInfo={description:"",displayName:"StackedBarChart",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"StackedBarChartData"}},comparisonData:{defaultValue:null,description:"",name:"comparisonData",required:!1,type:{name:"StackedBarChartData"}},toPercentage:{defaultValue:null,description:"",name:"toPercentage",required:!1,type:{name:"boolean"}},colorRange:{defaultValue:null,description:"",name:"colorRange",required:!1,type:{name:"string[]"}},withLegend:{defaultValue:null,description:"",name:"withLegend",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/barChart/StackedBarChart.tsx#StackedBarChart"]={docgenInfo:StackedBarChart_StackedBarChart.__docgenInfo,name:"StackedBarChart",path:"src/barChart/StackedBarChart.tsx#StackedBarChart"})}catch(__react_docgen_typescript_loader_error){}__webpack_exports__.default={title:"Chart/Stacked Bar Chart",component:StackedBarChart_StackedBarChart};var Default=function Template(args){var initValue=[[{Title:"Scholars Rooftop",Renewal:8,New:5,Extension:0,Vacant:0,Total:13},{Title:"Scholars Rock",Renewal:50,New:44,Extension:0,Vacant:0,Total:94},{Title:"Huntington Gardens",Renewal:25,New:4,Extension:0,Vacant:4,Total:33},{Title:"Covenanter Hill",Renewal:114,New:79,Extension:0,Vacant:3,Total:196},{Title:"MeadowCreek",Renewal:165,New:56,Extension:2,Vacant:6,Total:229},{Title:"Scholars Quad",Renewal:40,New:29,Extension:0,Vacant:3,Total:72},{Title:"Cov Affordable",Renewal:7,New:2,Extension:0,Vacant:2,Total:11},{Title:"Porto Flats",Renewal:25,New:15,Extension:0,Vacant:6,Total:46},{Title:"Cape Dutch Villas",Renewal:20,New:3,Extension:0,Vacant:1,Total:24},{Title:"Verona Park",Renewal:5,New:2,Extension:0,Vacant:1,Total:8},{Title:"HighGrove",Renewal:36,New:15,Extension:0,Vacant:7,Total:58},{Title:"SummerHouse",Renewal:67,New:58,Extension:0,Vacant:5,Total:130}],[{Title:"Cape Dutch Villas",Renewal:16,New:7,Extension:1,Vacant:2,Total:26},{Title:"Covenanter Hill",Renewal:99,New:96,Extension:1,Vacant:1,Total:197},{Title:"HighGrove",Renewal:23,New:22,Extension:1,Vacant:2,Total:48},{Title:"MeadowCreek",Renewal:154,New:74,Extension:1,Vacant:4,Total:233},{Title:"Scholars Quad",Renewal:36,New:36,Extension:0,Vacant:2,Total:74},{Title:"Scholars Rooftop",Renewal:5,New:8,Extension:0,Vacant:0,Total:13}],[{Title:"Cape Dutch Villas",Renewal:43,New:22,Extension:0,Vacant:35,Total:126},{Title:"Covenanter Hill",Renewal:56,New:33,Extension:1,Vacant:10,Total:100},{Title:"HighGrove",Renewal:60,New:30,Extension:8,Vacant:2,Total:100},{Title:"MeadowCreek",Renewal:70,New:17,Extension:6,Vacant:7,Total:100},{Title:"Scholars Quad",Renewal:80,New:12,Extension:2,Vacant:6,Total:100},{Title:"Scholars Rooftop",Renewal:52.5,New:30,Extension:7,Vacant:10.5,Total:100},{Title:"Porto Flats",Renewal:62.5,New:20,Extension:7,Vacant:10.5,Total:100},{Title:"Verona Park",Renewal:32.5,New:50,Extension:7,Vacant:10.5,Total:100}],[{Title:"Cape Dutch Villas",Renewal:43,New:22,Extension:0,Vacant:35,Total:126}],[{Title:"Cape Dutch Villas",Renewal:43,New:22,Extension:0,Vacant:35,Total:126},{Title:"Covenanter Hill",Renewal:56,New:33,Extension:1,Vacant:10,Total:100}]],_useState=Object(react.useState)(0),_useState2=Object(slicedToArray.a)(_useState,2),selectedIndex=_useState2[0],setSelectedIndex=_useState2[1],_useState3=Object(react.useState)(!0),_useState4=Object(slicedToArray.a)(_useState3,2),toPercent=_useState4[0],setToPercent=_useState4[1],_useState5=Object(react.useState)(!0),_useState6=Object(slicedToArray.a)(_useState5,2),withLegend=_useState6[0],setWithLegend=_useState6[1],_useState7=Object(react.useState)({titleField:"Title",totalField:"Total",stackFields:["Renewal","New","Extension","Vacant"],values:initValue[0]}),_useState8=Object(slicedToArray.a)(_useState7,2),barData=_useState8[0],setBarData=_useState8[1];return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(StackedBarChart_StackedBarChart,{data:barData,toPercentage:toPercent,withLegend:withLegend}),Object(jsx_runtime.jsx)("button",{onClick:function togglePercent(){setToPercent(!toPercent)},children:toPercent?"To Data":"To Percent"}),"    ",Object(jsx_runtime.jsx)("button",{onClick:function handleButtonClicked(){var currentIndex=(selectedIndex+1)%initValue.length;setBarData(Object(objectSpread2.a)(Object(objectSpread2.a)({},barData),{},{values:initValue[currentIndex]})),setSelectedIndex(currentIndex)},children:"Change Data"}),"    ",Object(jsx_runtime.jsx)("button",{onClick:function onClick(){setWithLegend(!withLegend)},children:withLegend?"Without Legend":"With Legend"})]})}.bind({}),Comparison=function ComparisonTemplate(args){var _useState9=Object(react.useState)(!0),_useState10=Object(slicedToArray.a)(_useState9,2),toPercent=_useState10[0],setToPercent=_useState10[1],_useState11=Object(react.useState)(!0),_useState12=Object(slicedToArray.a)(_useState11,2),withLegend=_useState12[0],setWithLegend=_useState12[1];return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(StackedBarChart_StackedBarChart,{data:{titleField:"Title",totalField:"Total",stackFields:["Renewal","New","Extension","Vacant"],titleSeparator:":",values:[{Title:"Scholars Rooftop:(06-12-20)",Renewal:8,New:5,Extension:0,Vacant:0,Total:13},{Title:"Scholars Rock:(06-12-20)",Renewal:50,New:44,Extension:0,Vacant:0,Total:94},{Title:"Huntington Gardens:(06-12-20)",Renewal:25,New:4,Extension:0,Vacant:4,Total:33},{Title:"Covenanter Hill:(06-12-20)",Renewal:114,New:79,Extension:0,Vacant:3,Total:196},{Title:"MeadowCreek:(06-12-20)",Renewal:165,New:56,Extension:2,Vacant:6,Total:229},{Title:"Scholars Quad:(06-12-20)",Renewal:40,New:29,Extension:0,Vacant:3,Total:72},{Title:"Cov Affordable:(06-12-20)",Renewal:7,New:2,Extension:0,Vacant:2,Total:11},{Title:"Porto Flats:(06-12-20)",Renewal:25,New:15,Extension:0,Vacant:6,Total:46},{Title:"Cape Dutch Villas:(06-12-20)",Renewal:20,New:3,Extension:0,Vacant:1,Total:24},{Title:"Verona Park:(06-12-20)",Renewal:5,New:2,Extension:0,Vacant:1,Total:8},{Title:"HighGrove:(06-12-20)",Renewal:36,New:15,Extension:0,Vacant:7,Total:58},{Title:"SummerHouse:(06-12-20)",Renewal:67,New:58,Extension:0,Vacant:5,Total:130}]},comparisonData:{titleField:"Title",totalField:"Total",stackFields:["Renewal","New","Extension","Vacant"],titleSeparator:":",values:[{Title:"Scholars Rooftop:(06-12-21)",Renewal:5,New:8,Extension:0,Vacant:0,Total:13},{Title:"Huntington Gardens:(06-12-21)",Renewal:15,New:14,Extension:0,Vacant:4,Total:33},{Title:"Covenanter Hill:(06-12-21)",Renewal:14,New:179,Extension:0,Vacant:3,Total:196},{Title:"MeadowCreek:(06-12-21)",Renewal:65,New:156,Extension:2,Vacant:6,Total:229},{Title:"Scholars Quad:(06-12-21)",Renewal:20,New:49,Extension:0,Vacant:3,Total:72},{Title:"Cov Affordable:(06-12-21)",Renewal:2,New:7,Extension:0,Vacant:2,Total:11},{Title:"Porto Flats:(06-12-21)",Renewal:15,New:25,Extension:0,Vacant:6,Total:46},{Title:"Cape Dutch Villas:(06-12-21)",Renewal:10,New:13,Extension:0,Vacant:1,Total:24},{Title:"Verona Park:(06-12-21)",Renewal:2,New:5,Extension:0,Vacant:1,Total:8},{Title:"HighGrove:(06-12-21)",Renewal:26,New:25,Extension:0,Vacant:7,Total:58},{Title:"SummerHouse:(06-12-21)",Renewal:58,New:65,Extension:0,Vacant:7,Total:130}]},toPercentage:toPercent,withLegend:withLegend}),Object(jsx_runtime.jsx)("button",{onClick:function togglePercent(){setToPercent(!toPercent)},children:toPercent?"To Data":"To Percent"}),"    ",Object(jsx_runtime.jsx)("button",{onClick:function onClick(){setWithLegend(!withLegend)},children:withLegend?"Without Legend":"With Legend"})]})}.bind({})},"./src/barChart/assets/StackedBarChart.scss":function(module,exports,__webpack_require__){},"./src/pieChart/PieChart.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));var toConsumableArray=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),slicedToArray=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),react_default=__webpack_require__.n(react),d3=__webpack_require__("./node_modules/d3/index.js"),jsx_runtime=(__webpack_require__("./src/pieChart/assets/PieChart.scss"),__webpack_require__("./node_modules/react/jsx-runtime.js")),PieChart_PieChart=function PieChart(_ref){var data=_ref.data,withLegend=_ref.withLegend,legendTitle=_ref.legendTitle,onClick=_ref.onClick,valueFormatter=_ref.valueFormatter,colorRange=_ref.colorRange,chartRef=react_default.a.createRef(),legendRef=react_default.a.createRef(),clickHandler=Object(react.useCallback)((function(e,d){onClick&&onClick(d.index)}),[onClick]);return Object(react.useEffect)((function(){var pie=d3.f().padAngle(.005).sort(null).value((function(d){return d.value})),arc=d3.a().innerRadius(0).outerRadius(49),pieData=pie(data),legendText=function legendText(data,index){return data.legend?data.legend:data.title+" ("+formatNumber(data.value,index)+")"},formatNumber=function formatNumber(num,index){return valueFormatter?valueFormatter(num,index):num},color=d3.i().domain(d3.d(data,(function(d){return d.title}))).range(colorRange||["#4e79a7","#59a14f","#f28e2c","#e15759","#261759","#acd643","#daf2dc"]),chart=d3.j(chartRef.current).attr("viewBox","-50 -50 100 100");if(chart.selectAll("g").remove(),chart.selectAll("path").remove(),chart.selectAll("path").data(pieData).join("path").on("click",clickHandler).classed("selected",(function(d){return d.data.isSelected})).attr("fill",(function(d){return color(d.data.title)})).attr("fill-opacity",.9).attr("d",arc).append("title").text((function(d){return legendText(d.data,d.index)})),chart.append("g").classed("text",!0).attr("text-anchor","middle").selectAll("text").data(pieData).join("text").attr("transform",(function(d){return"translate(".concat(arc.centroid(d),")")})).call((function(text){return text.filter((function(d){return d.endAngle-d.startAngle>.4})).append("tspan").attr("y","-0.4em").classed("title",!0).text((function(d){return d.data.title}))})).call((function(text){return text.filter((function(d){return d.endAngle-d.startAngle>.4})).append("tspan").attr("x",0).attr("y","0.7em").attr("fill-opacity",.7).classed("value",!0).text((function(d){return"("+formatNumber(d.data.value,d.index)+")"}))})),withLegend){var legend=d3.j(legendRef.current).attr("viewBox","0 0 70 100");legend.selectAll("g").remove(),legend.selectAll("text").remove(),legend.append("text").text(legendTitle||"Legend").attr("y",10).attr("x",6).classed("legend-title",!0);var legendGraphics=legend.selectAll("g").data(pieData).enter().append("g");legendGraphics.attr("transform",(function(d,i){return"translate(6,".concat(10*i+14,")")})).append("rect").data(pieData).attr("width",6).attr("height",6).on("click",clickHandler).classed("legend-rect",!0).classed("legend-rect--selected",(function(d){return d.data.isSelected})).attr("fill",(function(d){return color(d.data.title)})).attr("fill-opacity",.9),legendGraphics.append("text").data(pieData).text((function(d){return legendText(d.data,d.index)})).on("click",clickHandler).classed("legend-text",!0).classed("legend-text--selected",(function(d){return d.data.isSelected})).attr("y",4).attr("x",8)}}),[chartRef,clickHandler,data,legendRef,legendTitle,valueFormatter,withLegend,colorRange]),Object(jsx_runtime.jsxs)("div",{className:"muncher-pie-chart",children:[Object(jsx_runtime.jsx)("svg",{ref:chartRef,className:"svg-pie-chart"}),withLegend?Object(jsx_runtime.jsx)("svg",{className:"svg-pie-chart-legend",ref:legendRef}):""]})};try{PieChart_PieChart.displayName="PieChart",PieChart_PieChart.__docgenInfo={description:"",displayName:"PieChart",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"PieChartData[]"}},withLegend:{defaultValue:null,description:"",name:"withLegend",required:!1,type:{name:"boolean"}},legendTitle:{defaultValue:null,description:"",name:"legendTitle",required:!1,type:{name:"string"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((index: number) => void)"}},valueFormatter:{defaultValue:null,description:"",name:"valueFormatter",required:!1,type:{name:"((num: number, index: number) => string)"}},colorRange:{defaultValue:null,description:"",name:"colorRange",required:!1,type:{name:"string[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pieChart/PieChart.tsx#PieChart"]={docgenInfo:PieChart_PieChart.__docgenInfo,name:"PieChart",path:"src/pieChart/PieChart.tsx#PieChart"})}catch(__react_docgen_typescript_loader_error){}__webpack_exports__.default={title:"Chart/Pie Chart",component:PieChart_PieChart};var Default=function Template(args){var _useState=Object(react.useState)(0),_useState2=Object(slicedToArray.a)(_useState,2),selectedIndex=_useState2[0],setSelectedIndex=_useState2[1],_useState3=Object(react.useState)([{title:"First",value:60,isSelected:!0,legend:"First (23: 60%)"},{title:"Second",value:1,isSelected:!1},{title:"Third",value:5,isSelected:!1}]),_useState4=Object(slicedToArray.a)(_useState3,2),pieData=_useState4[0],setPieData=_useState4[1];return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(PieChart_PieChart,{data:pieData,onClick:function handleOnClick(index){var currentData=Object(toConsumableArray.a)(pieData);currentData[index].isSelected?(currentData[index].isSelected=!1,setSelectedIndex(-1)):(currentData.forEach((function(value){value.isSelected=!1})),setSelectedIndex(index),currentData[index].isSelected=!0),setPieData(currentData)},valueFormatter:function valueFormatter(num){return num+"%"},withLegend:!0}),Object(jsx_runtime.jsx)("button",{onClick:function handleButtonClicked(){var currentData=Object(toConsumableArray.a)(pieData);currentData[1].value=1===currentData[1].value?10:1,setPieData(currentData)},children:"Change Data"}),-1!==selectedIndex?Object(jsx_runtime.jsxs)("p",{children:["Selected: ",pieData[selectedIndex].title]}):""]})}.bind({})},"./src/pieChart/assets/PieChart.scss":function(module,exports,__webpack_require__){},"./storybook-init-framework-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js")},0:function(module,exports,__webpack_require__){__webpack_require__("./node_modules/@storybook/core-client/dist/esm/globals/polyfills.js"),__webpack_require__("./node_modules/@storybook/core-client/dist/esm/globals/globals.js"),__webpack_require__("./storybook-init-framework-entry.js"),__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/frameworks/common/config.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/frameworks/react/config.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/react/dist/esm/client/preview/config-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-links/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/preset/addArgs.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-backgrounds/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-backgrounds/dist/esm/preset/addParameter.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-measure/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-outline/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-a11y/dist/esm/a11yRunner.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-a11y/dist/esm/a11yHighlight.js-generated-config-entry.js"),__webpack_require__("./.storybook/preview.js-generated-config-entry.js"),module.exports=__webpack_require__("./generated-stories-entry.js")},1:function(module,exports){}},[[0,4,5]]]);